<div
	nz-row
	nzType="flex"
	nzJustify="space-around"
	nzAlign="middle"
	class="collapse-content"
>
	<div nz-col nzSpan="24">
		<div nz-row nzGutter="12" [@listStagger]>
			<div
				nz-col
				[nzSpan]="12"
				[nzMd]="12"
				[nzSm]="24"
				[nzXs]="24"
				style="margin-bottom: 10px;"
			>
				<!-- Save and Edit Project -->
				<form
					nz-form
					[formGroup]="projectFrom"
					(ngSubmit)="submitForm($event, projectFrom.value)"
				>
					<nz-card
						class="card"
						[nzBordered]="false"
						nzTitle="Project Settings"
						[nzExtra]="extraTemplate"
					>
						<nz-form-item>
							<nz-form-label [nzSpan]="7" nzRequired
								>Profile Name</nz-form-label
							>
							<nz-form-control [nzOffset]="0" [nzSpan]="12" nzHasFeedback>
								<input
									nz-input
									formControlName="profile"
									placeholder="Awesome Profile"
								/>
								<nz-form-explain
									*ngIf="
										(projectFrom.get('profile')?.dirty &&
											projectFrom.get('profile')?.errors) ||
										projectFrom.get('profile')?.pending
									"
								>
									<ng-container
										*ngIf="projectFrom.get('profile')?.hasError('required')"
									>
										Please input your Profile Name!
									</ng-container>
									<ng-container
										*ngIf="projectFrom.get('profile')?.hasError('duplicated')"
									>
										The Project name is redundant!
									</ng-container>
									<ng-container *ngIf="projectFrom.get('profile')?.pending">
										Validating...
									</ng-container>
								</nz-form-explain>
							</nz-form-control>
						</nz-form-item>
						<nz-form-item>
							<nz-form-label [nzSpan]="7" nzRequired nzFor="title"
								>Project name</nz-form-label
							>
							<nz-form-control [nzOffset]="0" [nzSpan]="12" nzHasFeedback>
								<input
									nz-input
									name="title"
									type="title"
									id="title"
									formControlName="title"
									placeholder="Awesome title"
								/>
								<nz-form-explain
									*ngIf="
										projectFrom.get('title')?.dirty &&
										projectFrom.get('title')?.error
									"
								>
									Please input your Project Name!
								</nz-form-explain>
							</nz-form-control>
						</nz-form-item>
						<nz-form-item *ngFor="let componentConfig of componentConfigs">
							<div formGroupName="componentConfigs">
								<nz-form-label [nzSpan]="7" [nzFor]="componentConfig.type">{{
									componentConfig.name
								}}</nz-form-label>
								<nz-form-control [nzOffset]="0" [nzSpan]="12" nzHasFeedback>
									<input
										nz-input
										[name]="componentConfig.type"
										[type]="componentConfig.type"
										[id]="componentConfig.type"
										[formControlName]="componentConfig.type"
										[placeholder]="componentConfig.placeholder"
									/>
									<nz-form-explain
										*ngIf="
											projectFrom.get('componentConfig.type')?.dirty &&
											projectFrom.get('componentConfig.type')?.error
										"
									>
										Please input your {{ componentConfig.name }}!
									</nz-form-explain>
								</nz-form-control>
							</div>
						</nz-form-item>
						<nz-form-item>
							<nz-form-control [nzOffset]="0" [nzSpan]="12">
								<button
									nz-button
									nzType="primary"
									[disabled]="!projectFrom.valid"
								>
									Save Project
								</button>
							</nz-form-control>
						</nz-form-item>
					</nz-card>
				</form>
				<ng-template #extraTemplate> </ng-template>
			</div>
		</div>
		<div nz-row nzGutter="12" [@listStagger] *ngIf="selectProject?.profile">
			<div
				nz-col
				[nzSpan]="12"
				[nzMd]="12"
				[nzSm]="24"
				[nzXs]="24"
				style="margin-bottom: 10px;"
			>
				<nz-card class="card" [nzBordered]="false" nzTitle="Delete Project">
					<button
						nz-button
						nzType="danger"
						(click)="emitDeleteProject(selectProject)"
					>
						<i nz-icon nzType="delete"></i>Delete
					</button>
				</nz-card>
			</div>
		</div>
	</div>
</div>
